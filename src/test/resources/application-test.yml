nomis-oauth:
  base-url: https://sign-in-dev.hmpps.service.justice.gov.uk/auth

server:
  shutdown: immediate

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

database:
  batch:
    name: hmpps_court_case_service_db
    endpoint: localhost:5432
    username: admin
    password: password
  source: # add dev database here
    name: dbaaade99b4f658d25
    endpoint: localhost:5431
    username:
    password:
  target:
    name: hmpps_court_case_service_db
    endpoint: localhost:5432
    username: admin
    password: password

spring:
  datasource:
    url: jdbc:postgresql://${database.batch.endpoint}/${database.batch.name}?currentSchema=${database.batch.schema}
    username: ${database.batch.username}
    password: ${database.batch.password}
    driver-class-name: org.postgresql.Driver
  batch:
    jdbc:
      initialize-schema: always
    job:
      enabled: false
  flyway:
    enabled: false
  security:
    oauth2:
      client:
        provider:
          nomis-oauth-service:
            token-uri: ${nomis-oauth.base-url}/oauth/token
      resourceserver:
        jwt:
          issuer-uri: ${nomis-oauth.issuer-base-url:${nomis-oauth.base-url}}/issuer
          jwk-set-uri: ${nomis-oauth.base-url}/.well-known/jwks.json

app:
  datasource:
    source:
      url: jdbc:postgresql://${database.source.endpoint}/${database.source.name}?schema=${database.source.schema}
      username: ${database.source.username}
      password: ${database.source.password}
    target:
      url: jdbc:postgresql://${database.target.endpoint}/${database.target.name}?schema=${database.target.schema}
      username: ${database.target.username}
      password: ${database.target.password}
